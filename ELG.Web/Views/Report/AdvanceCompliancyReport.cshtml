
@{
    ViewBag.Title = "AdvanceCompliancyReport";

    //check admin privileges
    var adminRole = ELG.Web.Helper.SessionHelper.UserRole;
    if (adminRole > 0)
    {
        Layout = ELG.Web.Helper.CommonHelper.GetAdminLayoutPage(adminRole);
    }
    else
    {
        <div class="alert alert-danger">Unauthorized access. Please <a href="@Url.Action("LogOut", "Account")">log out</a>.</div>
    }
}

<!-- Page Heading -->
<h1 class="h3 mb-2 text-gray-800">Advance Compliancy Report</h1>

<div class="card shadow mb-4">
    <div class="card-header py-3">
        <div class="row">
            <div class="col-sm-12">
                <div class="form-inline">
                    <div class="input-group mb-3">
                        <div class="input-group-prepend">
                            <label class="input-group-text" for="txtAdvCompRptFrom">Select Date Range:&nbsp;<b>From</b></label>
                        </div>
                        <input type="text" id="txtAdvCompRptFrom" class="form-control" aria-label="Default" aria-describedby="inputGroup-sizing-default" placeholder="YYYY-MM-DD">
                    </div>
                    <div class="input-group mb-3">
                        <div class="input-group-prepend">
                            <label class="input-group-text" for="txtAdvCompRptTo"><b>To</b></label>
                        </div>
                        <input type="text" id="txtAdvCompRptTo" class="form-control" aria-label="Default" aria-describedby="inputGroup-sizing-default" placeholder="YYYY-MM-DD">
                    </div>
                </div>
                <div class="form-inline">
                    <div class="input-group mb-3">
                        <div class="input-group-prepend">
                            <label class="input-group-text" for="ddlLocation">Select @ELG.Web.Helper.SessionHelper.CompanySettings.strLocationDescription</label>
                        </div>
                        <select id="ddlLocation" class="custom-select ddl-loc">
                            <option value="0">Select All</option>
                        </select>
                    </div>
                    <div class="input-group mb-3">
                        <button id="searchCompliancy" class="btn btn-primary" type="button">
                            <i class="fa fa-search fa-sm"></i> Search
                        </button>
                    </div>
                    @*<div class="input-group mb-3">
                <button id="downloadProgressReport" class="btn btn-dark" type="button" data-loading-text="Downloading..." data-original-text='<i class="fa fa-download fa-sm"></i> Download'>
                    <i class="fa fa-download fa-sm"></i> Download
                </button>
            </div>*@
                    <div class="input-group mb-3">
                        <button id="clearSearchCompliancy" class="btn btn-secondary" type="button">
                            <i class="fa fa-times fa-sm"></i> Clear
                        </button>
                    </div>
                </div>
            </div>
            <div class="col-lg-12">
                <div class="alert alert-info">
                    <b>TU</b> : Total number of users | <b>A</b> : Total number of users with course assigned | <b>C</b> : Total number of users with completed course 
                </div>
            </div>
        </div>
    </div>
    <div class="card-body" id="divCompliancyReportHolder" style="overflow-x:scroll">
        <div class="text-center mb-4">
            <i class="fa fa-spinner fa-spin fa-3x fa-fw"></i><span class="sr-only">Loading...</span>
        </div>

    </div>
</div>

 @Html.Partial("_NonCompliantUserList")
@section Scripts{
    <script type="text/javascript" src="~/Scripts/Admin/Reports/compliancyReport.js"></script>
    <script type="text/javascript" src="~/Scripts/Admin/Reports/NonCompliantUserReport.js"></script>
}

